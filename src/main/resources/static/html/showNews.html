<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Insert title here</title>
</head>
<body>
添加新闻
<hr>
<form action="" method="">
<table border="1" align="center">
<tr>
<td>新闻题目：</td>
<td><input type="text" name="title" id = "title" value="" disabled="disabled" ></td>
</tr>
<tr>
<td>新闻内容：</td>
<td><textarea rows="15" cols="50" name="content" id = "content" disabled="disabled"></textarea></td>
</tr>
<tr>
<td colspan="2"><input type="button" value="关闭" onclick="guanbi()">

</td>
</tr>
</table>
</form>
<script type="text/javascript" src="/js/jquery.1.12.4.min.js"></script>
<script type="text/javascript" charset="utf-8">
 function guanbi(){
	 window.history.go(-1);
	 //location.reload();
 }

 var news = {
     "content": "",
     "id": 0,
     "pubTime": "2018-1-1",
     "title": "",
     "userId": 0
 }

 function getNewsFromParam() {
     news.content = getQueryVariable("content")
     //news.content = eval(getQueryVariable("content"))
     news.title = getQueryVariable("title")
     news.userId = getQueryVariable("userId")
     news.id = getQueryVariable("newsid")

     console.log(news)
 }

 function syncUI() {
     $("#title").val(news.title)
     $("#content").val(news.content)
     console.log(news)
 }

 function getQueryVariable(variable) {
     var query = window.location.search.substring(1);
     var vars = query.split("&");
     for (var i = 0; i < vars.length; i++) {
         var pair = vars[i].split("=");
         if (pair[0] == variable) {
             return decodeURI(pair[1]);
         }
     }
     return (false);
 }

 $(function () {
     getNewsFromParam()
     syncUI()

 })

</script>
</body>
</html>
